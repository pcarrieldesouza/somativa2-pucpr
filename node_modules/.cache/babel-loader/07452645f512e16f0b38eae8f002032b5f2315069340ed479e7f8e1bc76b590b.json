{"ast":null,"code":"import{useEffect,useState}from\"react\";import{auth,db}from\"../firebase\";import{onAuthStateChanged,signOut}from\"firebase/auth\";import{doc,getDoc}from\"firebase/firestore\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){const[userDoc,setUserDoc]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const unsub=onAuthStateChanged(auth,async u=>{if(!u){setLoading(false);return navigate(\"/\");}const snap=await getDoc(doc(db,\"users\",u.uid));if(snap.exists())setUserDoc(snap.data());setLoading(false);});return()=>unsub();},[navigate]);async function sair(){await signOut(auth);navigate(\"/\");}if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Principal\"}),userDoc?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Nome:\"}),\" \",userDoc.firstName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Sobrenome:\"}),\" \",userDoc.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Data de nascimento:\"}),\" \",userDoc.birthDate]}),/*#__PURE__*/_jsx(\"button\",{onClick:sair,children:\"Sair\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o foi poss\\xEDvel carregar seus dados.\"})]});}","map":{"version":3,"names":["useEffect","useState","auth","db","onAuthStateChanged","signOut","doc","getDoc","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","userDoc","setUserDoc","loading","setLoading","navigate","unsub","u","snap","uid","exists","data","sair","className","children","firstName","lastName","birthDate","onClick"],"sources":["C:/Users/pcarr/Desktop/teste/login-app/src/pages/Home.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const [userDoc, setUserDoc] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, async (u) => {\r\n      if (!u) { setLoading(false); return navigate(\"/\"); }\r\n      const snap = await getDoc(doc(db, \"users\", u.uid));\r\n      if (snap.exists()) setUserDoc(snap.data());\r\n      setLoading(false);\r\n    });\r\n    return () => unsub();\r\n  }, [navigate]);\r\n\r\n  async function sair() {\r\n    await signOut(auth);\r\n    navigate(\"/\");\r\n  }\r\n\r\n  if (loading) return <div className=\"container\"><p>Carregando...</p></div>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Principal</h1>\r\n      {userDoc ? (\r\n        <>\r\n          <p><b>Nome:</b> {userDoc.firstName}</p>\r\n          <p><b>Sobrenome:</b> {userDoc.lastName}</p>\r\n          <p><b>Data de nascimento:</b> {userDoc.birthDate}</p>\r\n          <button onClick={sair}>Sair</button>\r\n        </>\r\n      ) : <p>Não foi possível carregar seus dados.</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,CAAEC,EAAE,KAAQ,aAAa,CACtC,OAASC,kBAAkB,CAAEC,OAAO,KAAQ,eAAe,CAC3D,OAASC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAChD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAmB,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9BR,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,KAAK,CAAGjB,kBAAkB,CAACF,IAAI,CAAE,KAAO,CAAAoB,CAAC,EAAK,CAClD,GAAI,CAACA,CAAC,CAAE,CAAEH,UAAU,CAAC,KAAK,CAAC,CAAE,MAAO,CAAAC,QAAQ,CAAC,GAAG,CAAC,CAAE,CACnD,KAAM,CAAAG,IAAI,CAAG,KAAM,CAAAhB,MAAM,CAACD,GAAG,CAACH,EAAE,CAAE,OAAO,CAAEmB,CAAC,CAACE,GAAG,CAAC,CAAC,CAClD,GAAID,IAAI,CAACE,MAAM,CAAC,CAAC,CAAER,UAAU,CAACM,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAC1CP,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACF,MAAO,IAAME,KAAK,CAAC,CAAC,CACtB,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,cAAe,CAAAO,IAAIA,CAAA,CAAG,CACpB,KAAM,CAAAtB,OAAO,CAACH,IAAI,CAAC,CACnBkB,QAAQ,CAAC,GAAG,CAAC,CACf,CAEA,GAAIF,OAAO,CAAE,mBAAOR,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,cAACnB,IAAA,MAAAmB,QAAA,CAAG,eAAa,CAAG,CAAC,CAAK,CAAC,CAEzE,mBACEjB,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,OAAAmB,QAAA,CAAI,WAAS,CAAI,CAAC,CACjBb,OAAO,cACNJ,KAAA,CAAAE,SAAA,EAAAe,QAAA,eACEjB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,MAAAmB,QAAA,CAAG,OAAK,CAAG,CAAC,IAAC,CAACb,OAAO,CAACc,SAAS,EAAI,CAAC,cACvClB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,MAAAmB,QAAA,CAAG,YAAU,CAAG,CAAC,IAAC,CAACb,OAAO,CAACe,QAAQ,EAAI,CAAC,cAC3CnB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,MAAAmB,QAAA,CAAG,qBAAmB,CAAG,CAAC,IAAC,CAACb,OAAO,CAACgB,SAAS,EAAI,CAAC,cACrDtB,IAAA,WAAQuB,OAAO,CAAEN,IAAK,CAAAE,QAAA,CAAC,MAAI,CAAQ,CAAC,EACpC,CAAC,cACDnB,IAAA,MAAAmB,QAAA,CAAG,6CAAqC,CAAG,CAAC,EAC7C,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}